\section{Testing}\label{section:testing}

The Fibonacci program in \cite[Figure 3.3]{torben} has been tested to produce
the same resulting $in[i]$ and $out[i]$ tests as presented in \cite[Figure
3.5]{torben}. In particular, the code was tested to work in GHCi, version 7.6.2
on the supplied source code file \texttt{fib.il}, which produced the following
output:

\begin{verbatim}
$ ghci -Wall
GHCi, version 7.6.2: http://www.haskell.org/ghc/  :? for help
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
Prelude> :l Liveness.lhs 
[1 of 3] Compiling Grammar          ( Grammar.lhs, interpreted )
[2 of 3] Compiling Parser           ( Parser.lhs, interpreted )
[3 of 3] Compiling Liveness         ( Liveness.lhs, interpreted )
Ok, modules loaded: Parser, Liveness, Grammar.
*Liveness> analyseFile "fib.il"
Loading package array-0.4.0.1 ... linking ... done.
Loading package deepseq-1.3.0.1 ... linking ... done.
Loading package containers-0.5.0.0 ... linking ... done.
fib(n)
[
1   a := 0                        a n       n
2   b := 1                        a b n     a n
3   z := 0                        a b n z   a b n
4   LABEL loop                    a b n z   a b n z
5   IF n = z THEN end ELSE body   a b n     a b n z
6   LABEL body                    a b n     a b n
7   t := a + b                    b n t     a b n
8   a := b                        a n t     b n t
9   b := t                        a b n     a n t
10  n := n - 1                    a b n     a b n
11  z := 0                        a b n z   a b n
12  GOTO loop                     a b n z   a b n z
13  LABEL end                     a         a
14  RETURN a                                a
]
\end{verbatim}
